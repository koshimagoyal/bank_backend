{"version":3,"sources":["webpack:///src/app/login/login.component.html","webpack:///src/app/login/login-routing.module.ts","webpack:///src/app/login/login.component.scss","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.module.ts","webpack:///src/app/login/model/login.ts"],"names":["routes","path","component","LoginRoutingModule","imports","forChild","exports","LoginComponent","router","authService","fb","session","userLogin","form","group","userId","password","get","value","fire","title","text","icon","getLoginAuth$","subscribe","data","console","log","length","user","id","name","email","address","currentAddress","role","roleId","store","navigateByUrl","selector","template","LoginModule","declarations","providers","Login"],"mappings":"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","file":"login-login-module-es5.js","sourcesContent":["export default \"<sb-layout-auth>\\r\\n    <div class=\\\"container\\\">\\r\\n        <div class=\\\"row justify-content-center\\\">\\r\\n            <div class=\\\"col-lg-5\\\">\\r\\n                <div class=\\\"card shadow-lg border-0 rounded-lg mt-5\\\">\\r\\n                    <div class=\\\"card-header\\\"><h3 class=\\\"text-center font-weight-light my-4\\\">Login</h3></div>\\r\\n                    <div class=\\\"card-body\\\">\\r\\n                        <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"login()\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"small mb-1\\\" for=\\\"inputUserId\\\">User Id</label>\\r\\n                                <input class=\\\"form-control py-4\\\" id=\\\"inputUserId\\\" type=\\\"number\\\" placeholder=\\\"Enter User Id\\\" formControlName=\\\"userId\\\"/>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"small mb-1\\\" for=\\\"inputPassword\\\">Password</label>\\r\\n                                <input class=\\\"form-control py-4\\\" id=\\\"inputPassword\\\" type=\\\"password\\\" placeholder=\\\"Enter password\\\" formControlName=\\\"password\\\" />\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <div class=\\\"custom-control custom-checkbox\\\">\\r\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"rememberPasswordCheck\\\" type=\\\"checkbox\\\" />\\r\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"rememberPasswordCheck\\\">Remember password</label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group d-flex align-items-center justify-content-between mt-4 mb-0\\\">\\r\\n                                <a class=\\\"small\\\" routerLink=\\\"/auth/forgot-password\\\">Forgot Password?</a>\\r\\n                                <button class=\\\"btn btn-primary\\\">Login</button></div>\\r\\n                        </form>\\r\\n                    </div>\\r\\n                    <div class=\\\"card-footer text-center\\\">\\r\\n                        <div class=\\\"small\\\"><a routerLink=\\\"/auth/register\\\">Need an account? Sign up!</a></div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</sb-layout-auth>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginComponent } from './login.component';\r\n\r\nconst routes: Routes = [{ path: '', component: LoginComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LoginRoutingModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Login } from '@app/login/model/login';\r\nimport { SessionStorageService } from 'ngx-webstorage';\r\n// @ts-ignore\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\n\r\nimport { AuthService } from './services';\r\nimport { NavigationService } from '@app/navigation/services';\r\n\r\n@Component({\r\n    selector: 'sb-login',\r\n    templateUrl: './login.component.html',\r\n    styleUrls: ['./login.component.scss'],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n    form: FormGroup;\r\n    private userLogin = new Login();\r\n    constructor(\r\n        public router: Router,\r\n        public authService: AuthService,\r\n        public fb: FormBuilder,\r\n        public session: SessionStorageService\r\n    ) {\r\n        this.form = this.fb.group({\r\n            userId: [],\r\n            password: [''],\r\n        });\r\n    }\r\n    login() {\r\n        // @ts-ignore\r\n        this.userLogin.userId = this.form.get('userId').value;\r\n        // @ts-ignore\r\n        this.userLogin.password = this.form.get('password').value;\r\n\r\n        if (!this.userLogin.userId || !this.userLogin.password) {\r\n            Swal.fire({\r\n                title: 'Oops!',\r\n                text: 'Try again!',\r\n                icon: 'error',\r\n            });\r\n        } else {\r\n            this.authService.getLoginAuth$(this.userLogin).subscribe((data: any) => {\r\n                console.log(data);\r\n                if (data.length === 0) {\r\n                    Swal.fire({\r\n                        title: 'Oops!',\r\n                        text: 'Data does not exists!',\r\n                        icon: 'error',\r\n                    });\r\n                } else {\r\n                    const user = {\r\n                        id: data[0].userId,\r\n                        name: data[0].name,\r\n                        email: data[0].email,\r\n                        address: data[0].currentAddress,\r\n                        role: data[0].roleId,\r\n                    };\r\n                    this.session.store('user', user);\r\n                    if (data[0].role === 'employee') {\r\n                        this.router.navigateByUrl('/employee-dashboard');\r\n                    } else if (data[0].role === 'admin') {\r\n                        this.router.navigateByUrl('/dashboard');\r\n                    } else {\r\n                        this.router.navigateByUrl('/error/error-401');\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    ngOnInit() {}\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { NavigationModule } from '@app/navigation/navigation.module';\r\n\r\nimport { LoginRoutingModule } from './login-routing.module';\r\nimport { LoginComponent } from './login.component';\r\nimport * as service from './services';\r\n\r\n@NgModule({\r\n    declarations: [LoginComponent],\r\n    imports: [CommonModule, LoginRoutingModule, NavigationModule, ReactiveFormsModule],\r\n    providers: [...service.services],\r\n})\r\nexport class LoginModule {}\r\n","export class Login {\r\n    userId: number | undefined;\r\n    password: string | undefined;\r\n}\r\n"]}