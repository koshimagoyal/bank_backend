{"version":3,"sources":["./src/app/loan-eligibility-table/loan-eligibility-table.component.html","./src/app/loan-eligibility-table/loan-eligibility-table-routing.module.ts","./src/app/loan-eligibility-table/loan-eligibility-table.component.scss","./src/app/loan-eligibility-table/loan-eligibility-table.component.ts","./src/app/loan-eligibility-table/loan-eligibility-table.module.ts","./src/app/loan-eligibility-table/services/index.ts","./src/app/loan-eligibility-table/services/loan-eligible.service.ts"],"names":[],"mappings":"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","file":"loan-eligibility-table-loan-eligibility-table-module-es2015.js","sourcesContent":["export default \"<sb-layout-emp-dashboard>\\r\\n    <sb-dashboard-head title=\\\"{{'Employee.Pages.Eligible'|translate}}\\\"></sb-dashboard-head>\\r\\n    <hr class=\\\"rounded\\\">\\r\\n    <br>\\r\\n    <div *ngIf=\\\"eligible; else not\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn bg-primary btn-style\\\" [routerLink]=\\\"['/apply-loan']\\\">{{'Employee.Pages.Apply'|translate}}</button>\\r\\n    </div>\\r\\n    <ng-template #not>\\r\\n        <div>\\r\\n            <button type=\\\"button\\\" class=\\\"btn bg-primary btn-style\\\" [routerLink]=\\\"['/apply-loan']\\\" disabled>{{'Employee.Pages.Apply'|translate}}</button>\\r\\n        </div>\\r\\n    </ng-template>\\r\\n    <br/><br/><br/>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xl-2 col-md-1\\\"></div>\\r\\n        <div class=\\\"col-xl-8 col-md-10\\\">\\r\\n            <sb-card>\\r\\n                <div class=\\\"card-header\\\">\\r\\n                    <fa-icon class=\\\"mr-1\\\" [icon]='[\\\"fas\\\", \\\"table\\\"]'></fa-icon>{{'Employee.Pages.Eligible'|translate}}\\r\\n                </div>\\r\\n                <div class=\\\"card-body table-responsive\\\">\\r\\n                    <table class=\\\"table table-striped\\\">\\r\\n                        <tbody>\\r\\n                        <tr>\\r\\n                            <td>{{'Employee.Personal'| translate}}</td>\\r\\n                            <td>{{personal}}</td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td>{{'Employee.Emergency'| translate}}</td>\\r\\n                            <td>{{emergency}}</td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td>{{'Employee.LoanEligible.EligibleAmount'| translate}}</td>\\r\\n                            <td>{{eligibleAmount| indianCurrency}}</td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td>{{'Employee.LoanEligible.Amount'| translate}}</td>\\r\\n                            <td>{{eligibleLeftAmount| indianCurrency}}</td>\\r\\n                        </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n            </sb-card>\\r\\n        </div>\\r\\n        <div class=\\\"col-xl-2 col-md-1\\\"></div>\\r\\n    </div>\\r\\n    <ng-container *ngFor=\\\"let val of loanData\\\">\\r\\n        <sb-card>\\r\\n            <div class=\\\"card-header bg-primary headers\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col\\\" style=\\\"margin-top: 10px;\\\">\\r\\n                        <h5><fa-icon class=\\\"mr-1\\\" [icon]='[\\\"fas\\\", \\\"rupee-sign\\\"]'></fa-icon>&nbsp;{{'Employee.Loan'| translate}} ({{val.date| date:'dd-MM-yyyy'}})</h5>\\r\\n                    </div>\\r\\n                    <div class=\\\"col\\\">\\r\\n                        <span class=\\\"float-right\\\" style=\\\"margin: 10px;\\\"><h5>{{val.loanAmount| indianCurrency}}</h5></span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </sb-card>\\r\\n    </ng-container>\\r\\n</sb-layout-emp-dashboard>\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { LoanEligibilityTableComponent } from './loan-eligibility-table.component';\r\n\r\nconst routes: Routes = [{ path: '', component: LoanEligibilityTableComponent }];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule],\r\n})\r\nexport class LoanEligibilityTableRoutingModule {}\r\n","export default \".headers {\\n  color: white;\\n}\\n\\n.btn-style {\\n  color: white;\\n  float: right;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9hbi1lbGlnaWJpbGl0eS10YWJsZS9DOlxcVXNlcnNcXFBSQUtIQVJcXERvY3VtZW50c1xcQW5ndWxhciBQcm9qZWN0XFxLb3NoaW1hXFxTb2NpZXR5X0Jhbmtpbmcvc3JjXFxhcHBcXGxvYW4tZWxpZ2liaWxpdHktdGFibGVcXGxvYW4tZWxpZ2liaWxpdHktdGFibGUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2xvYW4tZWxpZ2liaWxpdHktdGFibGUvbG9hbi1lbGlnaWJpbGl0eS10YWJsZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNJLFlBQUE7QUNESjs7QURHQTtFQUNJLFlBQUE7RUFDQSxZQUFBO0FDQUoiLCJmaWxlIjoic3JjL2FwcC9sb2FuLWVsaWdpYmlsaXR5LXRhYmxlL2xvYW4tZWxpZ2liaWxpdHktdGFibGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICdzdHlsZXMvdmFyaWFibGVzLnNjc3MnO1xyXG5cclxuLmhlYWRlcnN7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuLmJ0bi1zdHlsZXtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZsb2F0OiByaWdodDtcclxufVxyXG5cclxuIiwiLmhlYWRlcnMge1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5idG4tc3R5bGUge1xuICBjb2xvcjogd2hpdGU7XG4gIGZsb2F0OiByaWdodDtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { LoanEligibleService } from '@app/loan-eligibility-table/services';\r\nimport { SessionStorageService } from 'ngx-webstorage';\r\n// @ts-ignore\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\n\r\n@Component({\r\n    selector: 'sb-loan-eligibility-table',\r\n    templateUrl: './loan-eligibility-table.component.html',\r\n    styleUrls: ['./loan-eligibility-table.component.scss'],\r\n})\r\nexport class LoanEligibilityTableComponent implements OnInit {\r\n    text: any;\r\n    loanType: any;\r\n    eligibleNoLoan: any;\r\n    personal: any;\r\n    emergency: any;\r\n    eligibleAmount: any;\r\n    eligibleLoan = 0;\r\n    eligibleLeftAmount: any;\r\n    eligible = true;\r\n    loanData = [];\r\n    constructor(public session: SessionStorageService, private loanService: LoanEligibleService) {}\r\n\r\n    ngOnInit() {\r\n        const user = this.session.retrieve('user');\r\n        this.text = user.id;\r\n        this.loanService.getData(this.text).subscribe(\r\n            result => {\r\n                console.log(result);\r\n                if (result.length === 0) {\r\n                    Swal.fire({\r\n                        title: 'Oops!',\r\n                        text: 'This user does not exists!',\r\n                        icon: 'error',\r\n                    });\r\n                } else {\r\n                    console.log(result);\r\n                    console.log(result.body);\r\n                    console.log(result.loanData);\r\n                    this.eligibleNoLoan = result.eligibleData;\r\n                    // tslint:disable-next-line:prefer-for-of\r\n                    for (let i = 0; i < result.balance.length; i++) {\r\n                        this.eligibleLoan += result.balance[i].credit - result.balance[i].debit;\r\n                    }\r\n                    let amt = 0;\r\n                    // tslint:disable-next-line:prefer-for-of\r\n                    for (let i = 0; i < result.eligibleData.length; i++) {\r\n                        if (result.eligibleData[i].loanType === 'personal')\r\n                            this.personal = result.eligibleData[i].eligibleNoOfLoanType;\r\n                        else\r\n                            this.emergency = result.eligibleData[i].eligibleNoOfLoanType;\r\n                        if (this.emergency === null) {\r\n                            this.emergency = 'Multiple Number of Times';\r\n                        }\r\n                        amt = result.eligibleData[i].eligibleNoOfCorpusAmount;\r\n                    }\r\n                    this.eligibleAmount = amt * this.eligibleLoan;\r\n                    const loan = result.loanData.length;\r\n                    this.eligible = loan < this.eligibleLoan;\r\n                    let amount = 0;\r\n                    // tslint:disable-next-line:prefer-for-of\r\n                    for (let i = 0; i < result.loanData.length; i++) {\r\n                        amount += result.loanData[i].loanAmount;\r\n                    }\r\n                    this.eligibleLeftAmount = this.eligibleLoan - amount;\r\n                    if (this.eligibleLeftAmount < 0) this.eligibleLeftAmount = 0;\r\n                    this.loanData = result.loanData;\r\n                    console.log(this.loanData);\r\n                    console.log(this.eligibleLeftAmount+' '+this.eligibleAmount);\r\n                }\r\n            },\r\n            error1 => {\r\n                Swal.fire({\r\n                    title: 'Oops!',\r\n                    text: 'Try again!',\r\n                    icon: 'error',\r\n                });\r\n            }\r\n        );\r\n        return this.eligible;\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { AppCommonModule } from '@app/app-common/app-common.module';\r\nimport { LayoutEmpDashboardModule } from '@app/layout-emp-dashboard/layout-emp-dashboard.module';\r\nimport { NavigationModule } from '@app/navigation/navigation.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { LoanEligibilityTableRoutingModule } from './loan-eligibility-table-routing.module';\r\nimport { LoanEligibilityTableComponent } from './loan-eligibility-table.component';\r\n\r\n@NgModule({\r\n    declarations: [LoanEligibilityTableComponent],\r\n    imports: [\r\n        CommonModule,\r\n        LoanEligibilityTableRoutingModule,\r\n        NavigationModule,\r\n        TranslateModule,\r\n        AppCommonModule,\r\n        LayoutEmpDashboardModule,\r\n    ],\r\n})\r\nexport class LoanEligibilityTableModule {}\r\n","import { LoanEligibleService } from './loan-eligible.service';\r\n\r\nexport const services = [LoanEligibleService];\r\n\r\nexport * from './loan-eligible.service';\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n    providedIn: 'root',\r\n})\r\nexport class LoanEligibleService {\r\n    constructor(private http: HttpClient) {}\r\n\r\n    getData(text: any): Observable<any> {\r\n        console.log(text);\r\n        const url = 'http://206.189.129.219:8080/getEligibleData';\r\n        const data = {\r\n            userId: text,\r\n        };\r\n        return this.http.post<any>(url, data);\r\n    }\r\n}\r\n"],"sourceRoot":"webpack:///"}