{"version":3,"sources":["webpack:///src/app/login/login.component.html","webpack:///src/app/login/login-routing.module.ts","webpack:///src/app/login/login.component.scss","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.module.ts","webpack:///src/app/login/model/login.ts"],"names":["routes","path","component","LoginRoutingModule","imports","forChild","exports","LoginComponent","router","authService","fb","session","userLogin","form","group","userId","password","get","value","fire","title","text","icon","getLoginAuth$","subscribe","data","console","log","length","user","id","name","email","address","currentAddress","role","roleId","store","navigateByUrl","selector","template","LoginModule","declarations","providers","Login"],"mappings":"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","file":"login-login-module-es5.js","sourcesContent":["export default \"<sb-layout-auth>\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row justify-content-center\\\">\\n            <div class=\\\"col-lg-5\\\">\\n                <div class=\\\"card shadow-lg border-0 rounded-lg mt-5\\\">\\n                    <div class=\\\"card-header\\\"><h3 class=\\\"text-center font-weight-light my-4\\\">Login</h3></div>\\n                    <div class=\\\"card-body\\\">\\n                        <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"login()\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <label class=\\\"small mb-1\\\" for=\\\"inputUserId\\\">User Id</label>\\n                                <input class=\\\"form-control py-4\\\" id=\\\"inputUserId\\\" type=\\\"number\\\" placeholder=\\\"Enter User Id\\\" formControlName=\\\"userId\\\"/>\\n                            </div>\\n                            <div class=\\\"form-group\\\">\\n                                <label class=\\\"small mb-1\\\" for=\\\"inputPassword\\\">Password</label>\\n                                <input class=\\\"form-control py-4\\\" id=\\\"inputPassword\\\" type=\\\"password\\\" placeholder=\\\"Enter password\\\" formControlName=\\\"password\\\" />\\n                            </div>\\n                            <div class=\\\"form-group\\\">\\n                                <div class=\\\"custom-control custom-checkbox\\\">\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"rememberPasswordCheck\\\" type=\\\"checkbox\\\" />\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"rememberPasswordCheck\\\">Remember password</label>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"form-group d-flex align-items-center justify-content-between mt-4 mb-0\\\">\\n                                <a class=\\\"small\\\" routerLink=\\\"/auth/forgot-password\\\">Forgot Password?</a>\\n                                <button class=\\\"btn btn-primary\\\">Login</button></div>\\n                        </form>\\n                    </div>\\n                    <div class=\\\"card-footer text-center\\\">\\n                        <div class=\\\"small\\\"><a routerLink=\\\"/auth/register\\\">Need an account? Sign up!</a></div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</sb-layout-auth>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginComponent } from './login.component';\n\nconst routes: Routes = [{ path: '', component: LoginComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Login } from '@app/login/model/login';\nimport { SessionStorageService } from 'ngx-webstorage';\n// @ts-ignore\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\n\nimport { AuthService } from './services';\nimport { NavigationService } from '@app/navigation/services';\n\n@Component({\n    selector: 'sb-login',\n    templateUrl: './login.component.html',\n    styleUrls: ['./login.component.scss'],\n})\nexport class LoginComponent implements OnInit {\n    form: FormGroup;\n    private userLogin = new Login();\n    constructor(\n        public router: Router,\n        public authService: AuthService,\n        public fb: FormBuilder,\n        public session: SessionStorageService\n    ) {\n        this.form = this.fb.group({\n            userId: [],\n            password: [''],\n        });\n    }\n    login() {\n        // @ts-ignore\n        this.userLogin.userId = this.form.get('userId').value;\n        // @ts-ignore\n        this.userLogin.password = this.form.get('password').value;\n\n        if (!this.userLogin.userId || !this.userLogin.password) {\n            Swal.fire({\n                title: 'Oops!',\n                text: 'Try again!',\n                icon: 'error',\n            });\n        } else {\n            this.authService.getLoginAuth$(this.userLogin).subscribe((data: any) => {\n                console.log(data);\n                if (data.length === 0) {\n                    Swal.fire({\n                        title: 'Oops!',\n                        text: 'Data does not exists!',\n                        icon: 'error',\n                    });\n                } else {\n                    const user = {\n                        id: data[0].userId,\n                        name: data[0].name,\n                        email: data[0].email,\n                        address: data[0].currentAddress,\n                        role: data[0].roleId,\n                    };\n                    this.session.store('user', user);\n                    if (data[0].role === 'employee') {\n                        this.router.navigateByUrl('/employee-dashboard');\n                    } else if (data[0].role === 'admin') {\n                        this.router.navigateByUrl('/dashboard');\n                    } else {\n                        this.router.navigateByUrl('/error/error-401');\n                    }\n                }\n            });\n        }\n    }\n    ngOnInit() {}\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { NavigationModule } from '@app/navigation/navigation.module';\n\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\nimport * as service from './services';\n\n@NgModule({\n    declarations: [LoginComponent],\n    imports: [CommonModule, LoginRoutingModule, NavigationModule, ReactiveFormsModule],\n    providers: [...service.services],\n})\nexport class LoginModule {}\n","export class Login {\n    userId: number | undefined;\n    password: string | undefined;\n}\n"]}