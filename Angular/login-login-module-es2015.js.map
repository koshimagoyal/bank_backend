{"version":3,"sources":["./src/app/login/login.component.html","./src/app/login/login-routing.module.ts","./src/app/login/login.component.scss","./src/app/login/login.component.ts","./src/app/login/login.module.ts","./src/app/login/model/login.ts"],"names":[],"mappings":"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","file":"login-login-module-es2015.js","sourcesContent":["export default \"<sb-layout-auth>\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row justify-content-center\\\">\\n            <div class=\\\"col-lg-5\\\">\\n                <div class=\\\"card shadow-lg border-0 rounded-lg mt-5\\\">\\n                    <div class=\\\"card-header\\\"><h3 class=\\\"text-center font-weight-light my-4\\\">Login</h3></div>\\n                    <div class=\\\"card-body\\\">\\n                        <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"login()\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <label class=\\\"small mb-1\\\" for=\\\"inputUserId\\\">User Id</label>\\n                                <input class=\\\"form-control py-4\\\" id=\\\"inputUserId\\\" type=\\\"number\\\" placeholder=\\\"Enter User Id\\\" formControlName=\\\"userId\\\"/>\\n                            </div>\\n                            <div class=\\\"form-group\\\">\\n                                <label class=\\\"small mb-1\\\" for=\\\"inputPassword\\\">Password</label>\\n                                <input class=\\\"form-control py-4\\\" id=\\\"inputPassword\\\" type=\\\"password\\\" placeholder=\\\"Enter password\\\" formControlName=\\\"password\\\" />\\n                            </div>\\n                            <div class=\\\"form-group\\\">\\n                                <div class=\\\"custom-control custom-checkbox\\\">\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"rememberPasswordCheck\\\" type=\\\"checkbox\\\" />\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"rememberPasswordCheck\\\">Remember password</label>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"form-group d-flex align-items-center justify-content-between mt-4 mb-0\\\">\\n                                <a class=\\\"small\\\" routerLink=\\\"/auth/forgot-password\\\">Forgot Password?</a>\\n                                <button class=\\\"btn btn-primary\\\">Login</button></div>\\n                        </form>\\n                    </div>\\n                    <div class=\\\"card-footer text-center\\\">\\n                        <div class=\\\"small\\\"><a routerLink=\\\"/auth/register\\\">Need an account? Sign up!</a></div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</sb-layout-auth>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginComponent } from './login.component';\n\nconst routes: Routes = [{ path: '', component: LoginComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Login } from '@app/login/model/login';\nimport { SessionStorageService } from 'ngx-webstorage';\n// @ts-ignore\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\n\nimport { AuthService } from './services';\nimport { NavigationService } from '@app/navigation/services';\n\n@Component({\n    selector: 'sb-login',\n    templateUrl: './login.component.html',\n    styleUrls: ['./login.component.scss'],\n})\nexport class LoginComponent implements OnInit {\n    form: FormGroup;\n    private userLogin = new Login();\n    constructor(\n        public router: Router,\n        public authService: AuthService,\n        public fb: FormBuilder,\n        public session: SessionStorageService\n    ) {\n        this.form = this.fb.group({\n            userId: [],\n            password: [''],\n        });\n    }\n    login() {\n        // @ts-ignore\n        this.userLogin.userId = this.form.get('userId').value;\n        // @ts-ignore\n        this.userLogin.password = this.form.get('password').value;\n\n        if (!this.userLogin.userId || !this.userLogin.password) {\n            Swal.fire({\n                title: 'Oops!',\n                text: 'Try again!',\n                icon: 'error',\n            });\n        } else {\n            this.authService.getLoginAuth$(this.userLogin).subscribe((data: any) => {\n                console.log(data);\n                if (data.length === 0) {\n                    Swal.fire({\n                        title: 'Oops!',\n                        text: 'Data does not exists!',\n                        icon: 'error',\n                    });\n                } else {\n                    const user = {\n                        id: data[0].userId,\n                        name: data[0].name,\n                        email: data[0].email,\n                        address: data[0].currentAddress,\n                        role: data[0].roleId,\n                    };\n                    this.session.store('user', user);\n                    if (data[0].role === 'employee') {\n                        this.router.navigateByUrl('/employee-dashboard');\n                    } else if (data[0].role === 'admin') {\n                        this.router.navigateByUrl('/dashboard');\n                    } else {\n                        this.router.navigateByUrl('/error/error-401');\n                    }\n                }\n            });\n        }\n    }\n    ngOnInit() {}\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { NavigationModule } from '@app/navigation/navigation.module';\n\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\nimport * as service from './services';\n\n@NgModule({\n    declarations: [LoginComponent],\n    imports: [CommonModule, LoginRoutingModule, NavigationModule, ReactiveFormsModule],\n    providers: [...service.services],\n})\nexport class LoginModule {}\n","export class Login {\n    userId: number | undefined;\n    password: string | undefined;\n}\n"],"sourceRoot":"webpack:///"}