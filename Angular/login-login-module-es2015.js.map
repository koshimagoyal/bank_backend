{"version":3,"sources":["./src/app/login/login.component.html","./src/app/login/login-routing.module.ts","./src/app/login/login.component.scss","./src/app/login/login.component.ts","./src/app/login/login.module.ts","./src/app/login/model/login.ts"],"names":[],"mappings":"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","file":"login-login-module-es2015.js","sourcesContent":["export default \"<sb-layout-auth>\\r\\n    <div class=\\\"container\\\">\\r\\n        <div class=\\\"row justify-content-center\\\">\\r\\n            <div class=\\\"col-lg-5\\\">\\r\\n                <div class=\\\"card shadow-lg border-0 rounded-lg mt-5\\\">\\r\\n                    <div class=\\\"card-header\\\"><h3 class=\\\"text-center font-weight-light my-4\\\">Login</h3></div>\\r\\n                    <div class=\\\"card-body\\\">\\r\\n                        <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"login()\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"small mb-1\\\" for=\\\"inputUserId\\\">User Id</label>\\r\\n                                <input class=\\\"form-control py-4\\\" id=\\\"inputUserId\\\" type=\\\"number\\\" placeholder=\\\"Enter User Id\\\" formControlName=\\\"userId\\\"/>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"small mb-1\\\" for=\\\"inputPassword\\\">Password</label>\\r\\n                                <input class=\\\"form-control py-4\\\" id=\\\"inputPassword\\\" type=\\\"password\\\" placeholder=\\\"Enter password\\\" formControlName=\\\"password\\\" />\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <div class=\\\"custom-control custom-checkbox\\\">\\r\\n                                    <input class=\\\"custom-control-input\\\" id=\\\"rememberPasswordCheck\\\" type=\\\"checkbox\\\" />\\r\\n                                    <label class=\\\"custom-control-label\\\" for=\\\"rememberPasswordCheck\\\">Remember password</label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group d-flex align-items-center justify-content-between mt-4 mb-0\\\">\\r\\n                                <a class=\\\"small\\\" routerLink=\\\"/auth/forgot-password\\\">Forgot Password?</a>\\r\\n                                <button class=\\\"btn btn-primary\\\">Login</button></div>\\r\\n                        </form>\\r\\n                    </div>\\r\\n                    <div class=\\\"card-footer text-center\\\">\\r\\n                        <div class=\\\"small\\\"><a routerLink=\\\"/auth/register\\\">Need an account? Sign up!</a></div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</sb-layout-auth>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginComponent } from './login.component';\r\n\r\nconst routes: Routes = [{ path: '', component: LoginComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LoginRoutingModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Login } from '@app/login/model/login';\r\nimport { SessionStorageService } from 'ngx-webstorage';\r\n// @ts-ignore\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\n\r\nimport { AuthService } from './services';\r\nimport { NavigationService } from '@app/navigation/services';\r\n\r\n@Component({\r\n    selector: 'sb-login',\r\n    templateUrl: './login.component.html',\r\n    styleUrls: ['./login.component.scss'],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n    form: FormGroup;\r\n    private userLogin = new Login();\r\n    constructor(\r\n        public router: Router,\r\n        public authService: AuthService,\r\n        public fb: FormBuilder,\r\n        public session: SessionStorageService\r\n    ) {\r\n        this.form = this.fb.group({\r\n            userId: [],\r\n            password: [''],\r\n        });\r\n    }\r\n    login() {\r\n        // @ts-ignore\r\n        this.userLogin.userId = this.form.get('userId').value;\r\n        // @ts-ignore\r\n        this.userLogin.password = this.form.get('password').value;\r\n\r\n        if (!this.userLogin.userId || !this.userLogin.password) {\r\n            Swal.fire({\r\n                title: 'Oops!',\r\n                text: 'Try again!',\r\n                icon: 'error',\r\n            });\r\n        } else {\r\n            this.authService.getLoginAuth$(this.userLogin).subscribe((data: any) => {\r\n                console.log(data);\r\n                if (data.length === 0) {\r\n                    Swal.fire({\r\n                        title: 'Oops!',\r\n                        text: 'Data does not exists!',\r\n                        icon: 'error',\r\n                    });\r\n                } else {\r\n                    const user = {\r\n                        id: data[0].userId,\r\n                        name: data[0].name,\r\n                        email: data[0].email,\r\n                        address: data[0].currentAddress,\r\n                        role: data[0].roleId,\r\n                    };\r\n                    this.session.store('user', user);\r\n                    if (data[0].role === 'employee') {\r\n                        this.router.navigateByUrl('/employee-dashboard');\r\n                    } else if (data[0].role === 'admin') {\r\n                        this.router.navigateByUrl('/dashboard');\r\n                    } else {\r\n                        this.router.navigateByUrl('/error/error-401');\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    ngOnInit() {}\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { NavigationModule } from '@app/navigation/navigation.module';\r\n\r\nimport { LoginRoutingModule } from './login-routing.module';\r\nimport { LoginComponent } from './login.component';\r\nimport * as service from './services';\r\n\r\n@NgModule({\r\n    declarations: [LoginComponent],\r\n    imports: [CommonModule, LoginRoutingModule, NavigationModule, ReactiveFormsModule],\r\n    providers: [...service.services],\r\n})\r\nexport class LoginModule {}\r\n","export class Login {\r\n    userId: number | undefined;\r\n    password: string | undefined;\r\n}\r\n"],"sourceRoot":"webpack:///"}